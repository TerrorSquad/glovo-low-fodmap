<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>FODMAP Helper</title>
</head>
<body class="popup-container">
  <div class="popup-header">
    <div class="popup-logo">F</div>
    <div class="popup-title">FODMAP Helper</div>
  </div>

  <div class="popup-section">
    <h3 class="section-title">Settings</h3>
    <div class="toggle-container">
      <label class="custom-switch">
        <input type="checkbox" id="hideNonLowFodmap">
        <span class="slider"></span>
      </label>
      <span>Hide non-low FODMAP products</span>
    </div>
    <div class="toggle-container">
      <label class="custom-switch">
        <input type="checkbox" id="darkModeToggle">
        <span class="slider"></span>
      </label>
      <span>Dark mode</span>
    </div>
  </div>

  <div class="popup-section">
    <h3 class="section-title">Actions</h3>
    <button class="btn" id="syncButton">Sync Products</button>
    <button class="btn btn-secondary" id="syncUnknownButton">Sync Unknown Products</button>
    <button class="btn btn-secondary" id="pollStatusButton">Poll Status</button>
    <div class="status-container" id="status">
      <div class="status-icon healthy" id="statusIcon"></div>
      <span id="statusText">Ready</span>
    </div>
  </div>

  <div class="popup-section">
    <h3 class="section-title">Statistics</h3>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value" id="totalProducts">-</div>
        <div class="stat-label">Total Products</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="lowFodmapCount">-</div>
        <div class="stat-label">Low FODMAP</div>
      </div>
    </div>
  </div>

  <div class="popup-section debug-section">
    <h3 class="section-title">Debug Tools</h3>
    <button class="btn btn-small btn-secondary" id="healthCheck">Health Check</button>
    <button class="btn btn-small btn-secondary" id="diagnostics">Full Report</button>
    <button class="btn btn-small btn-secondary" id="exportData">Export Data</button>
    <button class="btn btn-small btn-secondary" id="clearData">Clear Data</button>
    
    <div class="mt-2 text-xs text-gray-600 leading-tight">
      <strong>Shortcuts:</strong> Space=Toggle, ⌘S=Sync, ⌘U=Sync Unknown, ⌘P=Poll, ⌘D=Dark Mode, ⌘R=Refresh, H=Health, T=Debug
    </div>
  </div>

  <script type="module" src="popup.ts"></script>
</body>
</html>
